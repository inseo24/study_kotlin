# 아이템 30 : 요소의 가시성을 최소화하라

코틀린에서 모듈은 함께 컴파일되는 코틀린 소스 코드를 말한다.

- gradle 소스 세트
- maven 프로젝트
- intellij idea 모듈
- ant 태스크 한 번으로 컴파일되는 파일 세트

- 다른 모듈에 의해 사용될 가능성이 있는 모듈이라면, internal을 사용해 공개하고 싶지 않은 요소를 숨깁니다.
- 요소가 상속을 위해 설계되어 있고, 클래스와 서브클래스에서만 사용되게 만들고 싶다면 protected를 사용합니다.
- 동일한 파일 또는 클래스에서만 요소를 사용하게 만들고 싶다면 private를 사용합니다.
    - 참고로, 코틀린은 지역적으로만 사용되는 요소는 private으로 만드는게 좋다는 컨벤션을 제공합니다.(이런 규칙은 dto에는 적용하지 않는게 좋음)

한 가지 큰 제한은, API를 상속할 때 오버라이드해서 가시성을 제한할 수 없다는 점이다. 이는 서브클래스가 슈퍼클래스로 사용될 수 있기 때문이다. 이게 상속보다 컴포지션을 선호하는 대표적인 이유다.

### 정리

- 인터페이스가 작을수록 이를 공부하고 유지하는 것이 쉽습니다.
- 최대한 제한이 있어야 변경하기 쉽습니다.
- 클래스의 상태를 나타내는 프로퍼티가 노출되어 있다면, 클래스가 자신의 상태를 책임질 수 없습니다.
- 가시성이 제한되면, API 변경을 더 쉽게 추적할 수 있습니다.